<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#f97316">
    <title>Ø·Ù„Ø§Ø¡ Ù…Ø§Ù†Ø¹ ØªØ³Ø±Ø¨ Ø´ÙØ§Ù - Ayamall</title>
    
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800;900&display=swap" rel="stylesheet">
    
    <style>
        :root { --brand-color: #f97316; --safe-bottom: env(safe-area-inset-bottom); }
        html { -webkit-tap-highlight-color: transparent; scroll-behavior: smooth; }
        body { font-family: 'Tajawal', sans-serif; background-color: #f0f2f5; margin: 0; padding: 0; overflow-x: hidden; -webkit-font-smoothing: antialiased; }
        .mobile-wrapper { width: 100%; max-width: 480px; margin: 0 auto; background-color: white; min-height: 100vh; position: relative; padding-bottom: calc(20px + var(--safe-bottom)); box-shadow: 0 0 20px rgba(0,0,0,0.05); }
        
        /* INPUTS & BUTTONS */
        .bg-brand { background-color: var(--brand-color); }
        .text-brand { color: var(--brand-color); }
        input, select, textarea { font-size: 16px !important; }
        input[type="text"], input[type="tel"] { -webkit-appearance: none; border-radius: 0.75rem; }
        
        /* ANIMATIONS */
        .animate-pulse-fast { animation: pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .7; } }
        .scarcity-bar { background-image: linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent); background-size: 1rem 1rem; animation: stripes 1s linear infinite; }
        @keyframes stripes { from { background-position: 1rem 0; } to { background-position: 0 0; } }
        
        .cta-btn { background: linear-gradient(180deg, #fb923c 0%, #ea580c 100%); box-shadow: 0 4px 0 #c2410c, 0 8px 15px rgba(234, 88, 12, 0.2); touch-action: manipulation; transition: transform 0.1s, box-shadow 0.1s; }
        .cta-btn:active { transform: translateY(3px); box-shadow: 0 0 0 #c2410c, 0 3px 5px rgba(0,0,0,0.1); }
        
        /* SELECTION CARDS */
        .radio-box:checked ~ .selection-card { border-color: #f97316; background-color: #fff7ed; box-shadow: 0 0 0 2px #f97316; }
        .radio-box:checked ~ .selection-card .check-circle { background-color: #f97316; border-color: #f97316; }
        
        /* STICKY FOOTER LOGIC */
        .sticky-footer { position: fixed; bottom: 0; left: 50%; transform: translateX(-50%); width: 100%; max-width: 480px; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); padding: 12px 16px; padding-bottom: calc(12px + var(--safe-bottom)); box-shadow: 0 -4px 20px rgba(0,0,0,0.08); z-index: 999; border-top: 1px solid #e5e7eb; transition: transform 0.4s ease; }
        .sticky-footer.hidden-footer { transform: translate(-50%, 200%); }
        
        /* WHATSAPP */
        .whatsapp-float { position: fixed; bottom: calc(90px + var(--safe-bottom)); right: 16px; background-color: #25d366; color: #FFF; border-radius: 50px; text-align: center; font-size: 30px; box-shadow: 0 4px 10px rgba(0,0,0,0.3); z-index: 998; width: 55px; height: 55px; display: flex; align-items: center; justify-content: center; text-decoration: none; transition: all 0.3s ease; animation: whatsapp-pulse 2s infinite; }
        .whatsapp-float:active { transform: scale(0.95); }
        @keyframes whatsapp-pulse { 0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.7); } 70% { transform: scale(1.1); box-shadow: 0 0 0 12px rgba(37, 211, 102, 0); } 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(37, 211, 102, 0); } }
    </style>

    <script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '2663210157367551');
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=2663210157367551&ev=PageView&noscript=1"
/></noscript>
</head>
<body>

<div class="mobile-wrapper">
    <a href="https://wa.me/212638501541?text=Ù…Ø±Ø­Ø¨Ø§ØŒ Ø£Ø±ÙŠØ¯ Ø·Ù„Ø¨ Ø§Ù„Ø·Ù„Ø§Ø¡ Ø§Ù„Ù…Ø§Ù†Ø¹ Ù„Ù„ØªØ³Ø±Ø¨" class="whatsapp-float" target="_blank" aria-label="WhatsApp">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" viewBox="0 0 16 16">
            <path d="M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"/>
        </svg>
    </a>

    <div class="bg-brand text-white py-3 px-4 shadow-md flex justify-center items-center sticky top-0 z-50">
        <div class="font-bold text-3xl tracking-tighter">ayamall</div>
    </div>

    <div class="bg-red-600 text-white text-center py-2 px-3 text-xs font-bold flex justify-between items-center shadow-inner relative z-40">
        <span class="animate-pulse-fast flex items-center gap-1">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd" /></svg>
            Ø®ØµÙ… 50% ÙŠÙ†ØªÙ‡ÙŠ Ù‚Ø±ÙŠØ¨Ø§Ù‹!
        </span>
        <div class="bg-red-800 px-2 py-0.5 rounded text-yellow-300 font-mono tracking-widest" id="header-timer">00:14:21</div>
    </div>

    <div class="px-4 pt-6 pb-2 text-center bg-white">
        <h1 class="text-3xl font-black text-gray-900 leading-tight mb-2">Ø·Ù„Ø§Ø¡ Ù…Ø§Ù†Ø¹ ØªØ³Ø±Ø¨ Ø´ÙØ§Ù</h1>
        <div class="flex justify-center items-center gap-3 mb-4">
            <span class="text-4xl font-black text-brand">99 Ø¯Ø±Ù‡Ù…</span>
            <span class="text-gray-400 line-through text-lg decoration-red-500 decoration-2">250 Ø¯Ø±Ù‡Ù…</span>
        </div>
        
        <div class="relative mx-auto mb-8 max-w-[400px]">
            <div class="absolute top-2 right-2 bg-yellow-400 text-black font-black text-xs px-2 py-1 rounded shadow-md z-10 rotate-3 transform">Ø§Ù„Ø£ØµÙ„ÙŠ 100%</div>
            <div class="aspect-square w-full relative bg-gray-100 rounded-2xl overflow-hidden border border-gray-100 shadow-xl">
                <img src="product.png" onerror="this.src='https://ae01.alicdn.com/kf/S2659779262294191942767171542f2e5B/300g-Transparent-Waterproof-Coating-Agent-Invisible-Paste-Sealant-With-Brush-Wall-Repair-Tools-For-Bathroom-Roof.jpg'" class="w-full h-full object-cover" alt="Product">
            </div>
            <div class="bg-white p-3 rounded-xl shadow-[0_10px_20px_-5px_rgba(0,0,0,0.1)] absolute -bottom-6 left-4 right-4 border border-gray-100 z-20">
                <div class="flex justify-between text-[10px] font-bold mb-1">
                    <span class="text-red-500 flex items-center gap-1">ğŸ”¥ Ù…ØªØ¨Ù‚ÙŠ 9 Ù‚Ø·Ø¹ ÙÙ‚Ø·!</span>
                    <span class="text-gray-400">Ø³Ø§Ø±Ø¹ Ø¨Ø§Ù„Ø·Ù„Ø¨</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5 overflow-hidden"><div class="bg-red-500 h-2.5 rounded-full scarcity-bar" style="width: 85%"></div></div>
            </div>
        </div>

        <div class="mt-8 mb-4 px-2">
             <p class="text-gray-600 text-sm font-bold leading-relaxed">Ø§Ù„Ø­Ù„ Ø§Ù„Ø«ÙˆØ±ÙŠ Ø§Ù„Ø´ÙØ§Ù Ù„Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø´Ù‚ÙˆÙ‚ ÙˆÙ…Ù†Ø¹ Ø§Ù„ØªØ³Ø±Ø¨Ø§Øª ÙÙˆØ±Ø§Ù‹ Ø¯ÙˆÙ† ØªØ´ÙˆÙŠÙ‡ Ù…Ø¸Ù‡Ø± Ù…Ù†Ø²Ù„Ùƒ.</p>
        </div>
        
        <a href="#offers" class="flex w-full py-4 text-xl font-black text-white rounded-xl cta-btn mb-3 items-center justify-center gap-2">
            <span>Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 animate-bounce" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 13l-7 7-7-7m14-8l-7 7-7-7" /></svg>
        </a>
    </div>

    <div class="bg-gray-900 text-white py-8 px-4 text-center">
        <h2 class="text-2xl font-bold text-white mb-4">Ø´Ø§Ù‡Ø¯ Ø§Ù„ÙØ±Ù‚ Ø¨Ù†ÙØ³Ùƒ!</h2>
        <div class="relative rounded-xl overflow-hidden border-4 border-white shadow-2xl bg-black max-w-[400px] mx-auto">
            <img src="before-after.gif" onerror="this.src='https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExcDExaHJ4eW94eW94eW94eW94eW94eW94eW94eW94eW94eSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3o6vXVzKWtk4jcog9i/giphy.gif'" class="w-full h-auto object-cover" loading="lazy">
        </div>
        <div class="flex justify-center gap-6 mt-4 text-sm font-bold px-2 max-w-[400px] mx-auto">
            <div class="flex items-center gap-1 text-red-400 bg-red-900/30 px-3 py-1 rounded-full border border-red-500/30"><span>âŒ</span><span>ØªØ³Ø±Ø¨</span></div>
            <div class="flex items-center gap-1 text-green-400 bg-green-900/30 px-3 py-1 rounded-full border border-green-500/30"><span>âœ…</span><span>Ø­Ù…Ø§ÙŠØ©</span></div>
        </div>
    </div>

    <div class="py-8 px-4 bg-white">
        <h2 class="text-center text-2xl font-black text-gray-800 mb-2">ÙØ¹Ø§Ù„ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø·Ø­</h2>
        <div class="max-w-[400px] mx-auto rounded-xl shadow-lg mb-6 border border-gray-200 overflow-hidden">
            <img src="surfaces.gif" onerror="this.src='https://i.ibb.co/sk6sZ0h/surfaces-collage.jpg'" class="w-full h-auto" loading="lazy">
        </div>
        <div class="grid grid-cols-2 gap-3 max-w-[400px] mx-auto">
            <div class="p-3 bg-blue-50 rounded-xl border border-blue-100 text-center"><div class="text-2xl mb-1">ğŸ’§</div><h3 class="font-bold text-sm text-gray-900">Ø´ÙØ§Ù ØªÙ…Ø§Ù…Ø§Ù‹</h3></div>
            <div class="p-3 bg-green-50 rounded-xl border border-green-100 text-center"><div class="text-2xl mb-1">ğŸ›¡ï¸</div><h3 class="font-bold text-sm text-gray-900">Ø­Ù…Ø§ÙŠØ© Ø¯Ø§Ø¦Ù…Ø©</h3></div>
        </div>
    </div>

    <div id="offers" class="py-8 px-4 bg-white relative">
        <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-transparent via-gray-100 to-transparent"></div>
        <div class="text-center mb-6">
            <h2 class="text-3xl font-black text-gray-900">Ø§Ù…Ù„Ø£ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø±Ø© Ù„Ù„Ø·Ù„Ø¨</h2>
            <div class="inline-flex items-center gap-2 bg-orange-50 text-orange-800 px-3 py-1.5 rounded-lg text-xs font-bold mt-2 border border-orange-100">
                <span class="relative flex h-2 w-2"><span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-orange-400 opacity-75"></span><span class="relative inline-flex rounded-full h-2 w-2 bg-orange-500"></span></span>
                ØªÙ… Ø­Ø¬Ø² Ø·Ù„Ø¨Ùƒ Ù„Ù…Ø¯Ø© <span id="form-timer" class="font-mono text-red-600 text-sm">05:00</span> Ø¯Ù‚ÙŠÙ‚Ø©
            </div>
        </div>

        <form id="orderForm" onsubmit="handleOrder(event)" class="space-y-6 max-w-[400px] mx-auto">
            
            <div class="space-y-4">
                <label class="block relative cursor-pointer group tap-highlight-transparent">
                    <input type="radio" name="bundle" value="99" class="radio-box sr-only" checked onchange="updatePrice(99, 250)">
                    <div class="selection-card border-2 border-gray-200 rounded-xl p-3 flex justify-between items-center transition-all bg-white h-16">
                        <div class="flex items-center gap-3">
                            <div class="w-5 h-5 rounded-full border-2 border-gray-300 flex items-center justify-center check-circle transition-colors">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 text-white" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg>
                            </div>
                            <div class="font-bold text-gray-600 text-sm">Ø¹Ù„Ø¨Ø© ÙˆØ§Ø­Ø¯Ø©</div>
                        </div>
                        <div class="text-lg font-bold text-gray-600">99 DH</div>
                    </div>
                </label>

                <label class="block relative cursor-pointer tap-highlight-transparent">
                    <input type="radio" name="bundle" value="179" class="radio-box sr-only" onchange="updatePrice(179, 198)">
                    <div class="absolute -top-3 right-3 bg-red-600 text-white text-[10px] font-bold px-3 py-1 rounded-full shadow-md z-10 animate-bounce-slow">ğŸ”¥ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø£ÙƒØ«Ø± Ø·Ù„Ø¨Ø§Ù‹</div>
                    <div class="selection-card border-2 border-gray-200 rounded-xl p-3 flex justify-between items-center transition-all bg-white relative shadow-sm h-20">
                        <div class="flex items-center gap-3">
                            <div class="w-5 h-5 rounded-full border-2 border-gray-300 flex items-center justify-center bg-white check-circle">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 text-white" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg>
                            </div>
                            <div>
                                <div class="font-black text-gray-900 text-sm">2 Ø¹Ù„Ø¨ (Ø­Ù…Ø§ÙŠØ© Ù…Ø¶Ø§Ø¹ÙØ©)</div>
                                <div class="text-[10px] text-green-600 font-bold flex items-center gap-1">Ø´Ø­Ù† Ù…Ø¬Ø§Ù†ÙŠ ÙÙˆØ±ÙŠ</div>
                            </div>
                        </div>
                        <div class="text-left flex flex-col justify-center">
                            <div class="text-xs text-gray-400 line-through">198 DH</div>
                            <div class="text-2xl font-black text-red-600 leading-none">179 DH</div>
                        </div>
                    </div>
                </label>
            </div>

            <div class="bg-white p-4 rounded-2xl border-2 border-orange-100 shadow-lg">
                <p class="text-right text-gray-600 text-sm font-bold mb-4 flex items-center gap-2">ğŸ‘‡ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„</p>
                <div class="space-y-4">
                    <div>
                        <label class="block text-xs font-bold text-gray-700 mb-1 mr-1">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ <span class="text-red-500">*</span></label>
                        <input type="text" name="name" required placeholder="Ù…Ø«Ø§Ù„: Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¹Ù…Ø±ÙŠ" class="w-full bg-gray-50 border border-gray-300 rounded-xl p-4 text-right focus:border-brand focus:ring-2 focus:ring-orange-100 outline-none transition-all font-bold text-gray-800">
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-gray-700 mb-1 mr-1">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© <span class="text-red-500">*</span></label>
                        <input type="text" name="city" required placeholder="Ù…Ø«Ø§Ù„: Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡" class="w-full bg-gray-50 border border-gray-300 rounded-xl p-4 text-right focus:border-brand focus:ring-2 focus:ring-orange-100 outline-none transition-all font-bold text-gray-800">
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-gray-700 mb-1 mr-1">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ <span class="text-red-500">*</span></label>
                        <input type="tel" name="tel" required placeholder="06XXXXXXXX" class="w-full bg-gray-50 border border-gray-300 rounded-xl p-4 text-right focus:border-brand focus:ring-2 focus:ring-orange-100 outline-none transition-all font-bold text-gray-800 tracking-widest" style="direction: ltr; text-align: right;">
                    </div>
                </div>
            </div>

            <div class="pt-4 pb-12">
                <button type="submit" class="w-full py-5 text-xl font-black text-white rounded-xl cta-btn flex items-center justify-center gap-2 group relative overflow-hidden shadow-2xl">
                    <span class="relative z-10">ğŸ›’ Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</span>
                </button>
                <div class="flex justify-center items-center gap-2 mt-4 text-gray-400 grayscale opacity-80">
                    <span class="text-[10px] font-bold">Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… - Ø§Ù„ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ</span>
                </div>
            </div>
        </form>
    </div>

    <div class="sticky-footer flex items-center justify-between gap-3">
        <div class="flex flex-col">
            <span id="footer-old-price" class="text-[10px] text-gray-500 font-bold decoration-red-500 line-through">250 DH</span>
            <span id="footer-price" class="text-2xl font-black text-brand leading-none">99 DH</span>
        </div>
        <button onclick="document.getElementById('offers').scrollIntoView({behavior: 'smooth'})" class="bg-brand text-white px-8 py-3 rounded-xl font-bold shadow-lg flex-1 active:scale-95 transition-transform text-lg">
            Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†
        </button>
    </div>

</div>

<div id="toast" class="fixed top-24 left-1/2 -translate-x-1/2 bg-gray-800/90 backdrop-blur text-white px-4 py-3 rounded-xl text-xs font-bold shadow-2xl z-50 transition-all duration-500 opacity-0 translate-y-10 flex items-center gap-3 w-[90%] max-w-[350px] pointer-events-none">
    <div class="flex-1"><p id="toast-text" class="text-right">Ø´Ø®Øµ Ù…Ø§ Ø§Ø´ØªØ±Ù‰ Ø§Ù„Ù…Ù†ØªØ¬</p></div>
    <div class="w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center text-lg">ğŸ“¦</div>
</div>

<script>
    // --- I INSERTED YOUR NEW LINK BELOW ---
    const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbx_mptD_sy4IwzC950Z79gaEE92XspvluImwC1IdNjeiVHVJNZVuUYaPiPwIUiUcdDQ/exec";
    // -------------------------------------

    // 1. SMART FOOTER (Hides when form is visible)
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            const footer = document.querySelector('.sticky-footer');
            const whatsapp = document.querySelector('.whatsapp-float');
            if (entry.isIntersecting) {
                footer.classList.add('hidden-footer');
                whatsapp.style.bottom = "16px"; 
            } else {
                footer.classList.remove('hidden-footer');
                whatsapp.style.bottom = "100px";
            }
        });
    }, { threshold: 0.1 });
    observer.observe(document.getElementById('orderForm'));

    // 2. FORM SUBMISSION
    function handleOrder(e) {
        e.preventDefault();
        const btn = e.target.querySelector('button[type="submit"]');
        const originalContent = btn.innerHTML;
        
        btn.disabled = true;
        btn.innerHTML = 'â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ³Ø¬ÙŠÙ„...';
        btn.classList.remove('bg-brand');
        btn.classList.add('bg-gray-500');

        const fd = new FormData(e.target);
        
        // This 'no-cors' mode allows mobile phones to send data without errors
        fetch(GOOGLE_SCRIPT_URL, { 
            method: "POST", 
            mode: "no-cors", 
            headers: {"Content-Type": "application/x-www-form-urlencoded"}, 
            body: new URLSearchParams(fd).toString() 
        })
        .then(() => {
            setTimeout(() => {
                btn.innerHTML = 'âœ… ØªÙ… Ø¨Ù†Ø¬Ø§Ø­!';
                btn.classList.remove('bg-gray-500');
                btn.classList.add('bg-green-600');
                
                if (navigator.vibrate) navigator.vibrate(200);

                alert('Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ! Ø³Ù†ØªØµÙ„ Ø¨Ùƒ ÙÙŠ Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª.');
                e.target.reset();
                
                setTimeout(() => { 
                    btn.innerHTML = originalContent; 
                    btn.classList.remove('bg-green-600'); 
                    btn.classList.add('bg-brand'); 
                    btn.disabled = false; 
                }, 3000);
            }, 1000);
        })
        .catch(err => {
            alert("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰");
            btn.disabled = false;
            btn.innerHTML = originalContent;
        });
    }

    // 3. UTILS
    let time = 854; const timerElement = document.getElementById('header-timer');
    setInterval(() => { const m = Math.floor(time/60), s = time%60; timerElement.innerText=`00:${m<10?'0'+m:m}:${s<10?'0'+s:s}`; if(time>0)time--; }, 1000);
    
    function updatePrice(p, o) { document.getElementById('footer-price').innerText=p+' DH'; document.getElementById('footer-old-price').innerText=o+' DH'; }
    window.onload = function() { updatePrice(99, 250); };

    const cities = ['Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡', 'Ù…Ø±Ø§ÙƒØ´', 'Ø·Ù†Ø¬Ø©', 'ÙØ§Ø³', 'Ø£ÙƒØ§Ø¯ÙŠØ±', 'Ø§Ù„Ø±Ø¨Ø§Ø·'];
    const toast = document.getElementById('toast'), toastText = document.getElementById('toast-text');
    function showToast() {
        const city = cities[Math.floor(Math.random()*cities.length)];
        toastText.innerText=`Ø²Ø¨ÙˆÙ† Ù…Ù† ${city} Ø·Ù„Ø¨ Ø§Ù„Ø¹Ø±Ø¶ Ù„Ù„ØªÙˆ`;
        toast.classList.remove('opacity-0', 'translate-y-10'); setTimeout(()=>toast.classList.add('opacity-0','translate-y-10'),4000);
    }
    setTimeout(showToast, 3500); setInterval(showToast, 12000);
</script>
</body>
</html>
